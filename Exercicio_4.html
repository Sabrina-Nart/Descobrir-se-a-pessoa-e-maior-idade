<!DOCTYPE html>

<html lang="pt-BR">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>MaiorIdade</title>

        <link rel="stylesheet" href="Exercicio_4.css">
    </head>

<body class="container">
    
    <header class="row mt-5">
        <h1 class="col-md-12 text-center">Descubra se você já é maior de idade</h1>
    </header>

    <section class="row">
        <div class="col-md-4 offset-4">
            <label for="dataNascimento">Informe sua data de nascimento: </label><br><br>

            <input type="date" id="dataNascimento" class="w-100">
            <h3 id="ageGroup" class="text-center mt-3"></h3>
        </div>
    </section>

    <script>
        document
            .querySelector('#dataNascimento')

            .addEventListener('change', ({ target: { value } }) => {

                const [year, month, day] = value.split('-');
                const currentDate = new Date();

                if (year > 1850) {

                    let age = currentDate.getFullYear() - year;

                    if ((currentDate.getMonth() + 1) < month) {
                        age--;
                    } else if (
                        ((currentDate.getMonth() + 1) == month) &&
                        (day > currentDate.getDate())) {
                        age--;
                    }

                    let ageGroup;

                    if (age >= 18) {
                        ageGroup = 'Você é maior de idade'; 
                    } else {
                        ageGroup = 'Você é menor de idade, pois possui menos de 18 anos';
                    }

                    document.querySelector('#ageGroup').innerHTML = `Idade:${age}<br>Classificação: ${ageGroup}`;
                }
            })

    </script>
</body>

</html>